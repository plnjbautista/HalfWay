<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HalfWay - Bisection Method Visualizer</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Pixelify+Sans:wght@700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@1.2.1/dist/chartjs-plugin-annotation.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>
    <script src="script.js" defer></script>
</head>
<body class="min-h-screen p-8">
    <div class="app-wrapper max-w-7xl mx-auto">

        <!-- Header -->
        <header class="header">
            <h1 class="title">HalfWay</h1>
            <a href="about.html" class="button-about">About</a>
        </header>

        <!-- Main Container -->
        <div class="main-container">
            <!-- Input Section -->
            <section id="input-section" class="card input-card">
                <!-- Description -->
                <p class="text-sm text-gray-700 mb-2">
                    This tool helps you find the root of a function using the Bisection Root Finding Method.  
                    Input the function f(x), choose an interval [a, b] where the function crosses zero, and set the tolerance for accuracy.
                    </p>
                    <p class="text-sm text-gray-700 mb-2"></p>
                     Enter functions using x as the variable, ^ for exponents, * for multiplication, and parentheses for function arguments and expressions; e.g., x^3 - x - 2, sin(x) + x^2, ln(x+1).
                </p>
                
                <h2 class="section-title">Input Parameters</h2>
                <div class="input-grid">
                    <div>
                        <label for="func-input" class="label">Function f(x)</label>
                        <input type="text" id="func-input" class="input-field" placeholder="e.g., x^3 - x - 2, sin(x) + x^2, ln(x+1).">
                        
                    </div>
                    <div class="input-numbers">
                        <div>
                            <label for="a-input" class="label">Left Endpoint (a)</label>
                            <input type="text" id="a-input" class="input-field" placeholder="e.g., 1">
                        </div>
                        <div>
                            <label for="b-input" class="label">Right Endpoint (b)</label>
                            <input type="text" id="b-input" class="input-field" placeholder="e.g., 2">
                        </div>
                        <div>
                            <label for="tolerance-input" class="label">Tolerance (Îµ)</label>
                            <input type="text" id="tolerance-input" class="input-field" placeholder="e.g., 0.001">
                        </div>
                    </div>
                </div>

                <div id="error-message" class="error-box hidden mb-4"></div>

                <div class="flex flex-wrap gap-4">
                    <button id="calculate-button" class="button-primary">
                        Calculate Root
                    </button>
                    <button id="reset-button" class="button-secondary hidden">
                        Reset
                    </button>
                </div>
            </section>

            <!-- Results Container -->
            <div id="results-container" class="hidden">
                <!-- Summary Section -->
                <section class="card summary-card">
                    <h2 class="section-title">Problem Summary</h2>
                    <div id="summary-content" class="summary-box"></div>
                </section>

                <!-- Visualization Section -->
                <div class="visualization-wrapper">
    <div class="graph-control-grid">
        <!-- Graph -->
        <div class="graph-container">
            <canvas id="bisection-chart"></canvas>
        </div>

        <!-- Iteration Control -->
        <div id="control-panel" class="control-panel">
            <h3 class="control-title">Iteration Control</h3>
            <div class="text-center mb-4">
                <span id="iteration-display" class="iteration-display-text">0 / 0</span>
            </div>
            <div class="flex gap-2 mb-4 justify-center">
                <button id="prev-button" class="button-control" disabled>Prev</button>
                <button id="next-button" class="button-control" disabled>Next</button>
            </div>
            <div id="iteration-details" class="space-y-2 text-sm text-justify">
                <!-- Iteration details will appear here -->
            </div>

            <!-- Instruction Text and Reset Button moved inside control panel -->
            <div class="mt-4 text-center">
                <p class="mb-2 text-sm">You can zoom on specific regions on the graph by drawing a rectangle around it. Click the Default View button to restore the default view.</p>
                <button id="reset-view-button" class="button-primary">Default View</button>
            </div>
        </div>
    </div>
</div>

                </section>

                <!-- Iteration Table Section -->
                <section class="card table-card">
                    <h2 class="section-title">Iteration Table</h2>
                    <div class="table-wrapper scrollable-table">
                        <table id="iteration-table" class="data-table"></table>
                    </div>
                    <div class="mt-2 mb-2 w-full">
                        <button id="download-csv-button" class="button-primary w-full">Download CSV</button>
                    </div>


                </section>
            </div>
        </div>
    </div>
</body>
</html>
